:root {
  --multiplicator: 1;
  @media (resolution >= 2dppx) {
    --multiplicator: 1;
  }
  @media (resolution >= 3dppx) {
    --multiplicator: 1.5;
  }

  --size-tiny: calc(5px * var(--multiplicator));
  --size-small: calc(var(--size-tiny) * 1.618);
  --size-medium: calc(var(--size-small) * 1.618);
  --size-large: calc(var(--size-medium) * 1.618);
  --size-huge: calc(var(--size-large) * 1.618);

  --body-padding-horizontal: calc(var(--size-huge) * 1.618);
  --body-padding-vertical: var(--size-huge);

  --font-size: 14px;

  @media (max-width: 760px) {
    --body-padding-horizontal: var(--size-small);
  }
  @media (max-height: 500px) {
    --body-padding-vertical: var(--size-tiny);
  }
}

#layout {
  --inner-width: calc(100vw - 2 * var(--body-padding-horizontal));
  --inner-height: calc(100vh - 2 * var(--body-padding-vertical));

  --arena-width: calc(640px * var(--multiplicator));
  --arena-height: calc(400px * var(--multiplicator));

  --arena-max-width: var(--inner-width);
  --arena-max-height: calc(var(--inner-width) / 1.6);

  display: grid;
  min-height: var(--inner-height);
  gap: var(--size-small) var(--size-tiny);
  grid-template-columns: 1fr 1fr;
  grid-template-rows: max-content max-content auto max-content;

  grid-template-areas:
    "head ctrl"
    "main main"
    "footer footer"
    "stat pltt";

  @media (orientation: landscape) and (min-height: 1200px) {
    --arena-width: calc(960px * var(--multiplicator));
    --arena-height: calc(600px * var(--multiplicator));
  }

  @media (orientation: landscape) and (max-height: 800px) {
    --arena-max-width: calc(var(--inner-height) * 1.6);
    --arena-max-height: var(--inner-height);

    grid-template-columns: 12rem max-content 1fr max-content;
    grid-template-rows: 1fr 1fr;

    grid-template-areas:
      "head main footer ctrl"
      "stat main footer pltt";
  }
}

#head {
  grid-area: head;
}

#controls {
  grid-area: ctrl;
  display: flex;
  justify-content: end;
}

#main {
  grid-area: main;

  position: relative;
  top: 0;
  left: 0;

  width: var(--arena-width);
  height: var(--arena-height);

  max-width: var(--arena-max-width);
  max-height: var(--arena-max-height);

  margin: 3rem auto 0px;

  @media (orientation: landscape) and (max-height: 800px) {
    margin: 0px auto 0px;
  }
}

#footer {
  grid-area: footer;

  position: relative;
  top: 0;
  left: 0;

  width: var(--arena-width);
  max-width: var(--arena-max-width);

  margin: 1rem auto 0px;

  @media (orientation: landscape) and (max-height: 800px) {
    /* margin: 3rem auto 0px 1rem; */
    margin: auto auto auto 3rem;

    width: max-content;
    max-width: max-content;
  }
}

#gamestats {
  grid-area: stat;
  display: flex;
  align-items: end;
}

#palette {
  grid-area: pltt;
  display: flex;
  justify-content: end;
  align-items: end;

  position: relative;
}
#palette > div {
  position: absolute;
  bottom: 0;
  right: 0;
}

#playernames {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  opacity: 0;
  transition: opacity 1s ease-out;
}
#playernames.active {
  opacity: 1;
  transition: opacity 0.5s ease-in;
}
#playerpos0 {
  position: absolute;
  top: calc(
    1 * min(var(--arena-height), var(--arena-max-height)) / 4 - 25px *
      var(--multiplicator)
  );
  left: 0px;
  width: calc(min(var(--arena-width), var(--arena-max-width)) / 3.2);
  text-align: center;
}
#playerpos1 {
  position: absolute;
  top: calc(
    1 * min(var(--arena-height), var(--arena-max-height)) / 4 - 25px *
      var(--multiplicator)
  );
  right: 0px;
  width: calc(min(var(--arena-width), var(--arena-max-width)) / 3.2);
  text-align: center;
}
#playerpos2 {
  position: absolute;
  top: calc(
    2 * min(var(--arena-height), var(--arena-max-height)) / 4 - 25px *
      var(--multiplicator)
  );
  left: 0px;
  width: calc(min(var(--arena-width), var(--arena-max-width)) / 3.2);
  text-align: center;
}
#playerpos3 {
  position: absolute;
  top: calc(
    2 * min(var(--arena-height), var(--arena-max-height)) / 4 - 25px *
      var(--multiplicator)
  );
  right: 0px;
  width: calc(min(var(--arena-width), var(--arena-max-width)) / 3.2);
  text-align: center;
}
#playerpos4 {
  position: absolute;
  top: calc(
    3 * min(var(--arena-height), var(--arena-max-height)) / 4 - 25px *
      var(--multiplicator)
  );
  left: 0px;
  width: calc(min(var(--arena-width), var(--arena-max-width)) / 3.2);
  text-align: center;
}
#playerpos5 {
  position: absolute;
  top: calc(
    3 * min(var(--arena-height), var(--arena-max-height)) / 4 - 25px *
      var(--multiplicator)
  );
  right: 0px;
  width: calc(min(var(--arena-width), var(--arena-max-width)) / 3.2);
  text-align: center;
}
